{"version":3,"sources":["components/Upload.js","components/Package.js","components/RenderView.js","App.js","index.js"],"names":["Upload","_ref","onFileUpload","onFileChange","selectedFile","setNoticeMessage","react_default","a","createElement","htmlFor","style","background","padding","id","visibility","type","accept","onChange","Button","color","variant","onClick","name","Item","styled","Paper","theme","Object","objectSpread2","backgroundColor","palette","mode","typography","body2","spacing","textAlign","text","secondary","_","require","Package","_ref2","singlePackage","reverseDep","get","clickable","nonClickable","Box","sx","flexGrow","Grid","container","item","xs","md","description","react_router_dom","textDecoration","to","concat","map","ck","index","key","RenderView","view","setView","package","length","TableContainer","component","Table","TableBody","pkg","TableRow","TableCell","Notification","message","className","Alert","severity","App","_useState","useState","_useState2","slicedToArray","setSelectedFile","_useState3","JSON","parse","window","localStorage","getItem","_useState4","_useState5","_useState6","noticeMessage","_useState7","_useState8","fileId","setFileId","console","log","navigate","useNavigate","match","useMatch","find","p","params","Container","App_Notification","Link","react_router","path","element","components_Package","components_Upload","formData","FormData","append","setTimeout","axios","post","then","response","data","setItem","stringify","event","preventDefault","target","files","components_RenderView","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.3e44f34e.chunk.js","sourcesContent":["import React from 'react'\n//import FileUploadIcon from '@mui/icons-material/FileUpload'\nimport {Button} from '@material-ui/core';\n\nconst Upload =({onFileUpload, onFileChange, selectedFile, setNoticeMessage})=> {\n    const fileData = () => { \n    \n        if (selectedFile) { \n          return ( \n            <div> \n              <h4>{selectedFile.name}</h4>\n            </div> \n          ); \n        } else { \n          return ( \n            <div> \n              <br /> \n              <h4>Click 'Choose file' to choose</h4> \n            </div> \n          ); \n        } \n      }; \n    return(\n        <div> \n             <br/>\n             <label  htmlFor=\"filePicker\" style={{ background:\"green\", padding:\"5px 10px\" }}>\n              Choose file\n              </label>\n              <input id=\"filePicker\" style={{visibility:\"hidden\"}} type={\"file\"} accept={\".lock, .py, .png\"} onChange={onFileChange}/>\n            {/* <input type=\"file\" accept=\".lock, .py\"  onChange={onFileChange} />  */}\n            <Button color=\"secondary\" variant=\"outlined\" onClick={onFileUpload}> \n                Upload! \n            </Button> \n            {fileData()} \n\n        </div> \n    )\n}\n\nexport default Upload","import React from 'react'\nimport { Link } from \"react-router-dom\"\n\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\n\nconst Item = styled(Paper)(({ theme }) => ({\n    backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n    ...theme.typography.body2,\n    padding: theme.spacing(1),\n    textAlign: 'left',\n    color: theme.palette.text.secondary,\n  }));\n\nconst _ = require('lodash')\n\nconst Package =({singlePackage})=> { \n\n    // deal with possible missing property\n    const reverseDep = _.get(singlePackage, 'reverseDep')\n    const clickable = _.get(singlePackage, 'clickable')\n    const nonClickable = _.get(singlePackage, 'non_clickable')\n\n    \n    return(\n\n        <Box sx={{ flexGrow: 1 }}>\n            <Grid container spacing={2}>\n            <Grid item xs={12} md={8}>\n                <Item>\n                    <h1>{singlePackage.name}</h1>\n                    <h4>Description: {singlePackage.description}</h4>\n                </Item>\n                </Grid>\n                <Grid item xs={6} md={8}>\n                <Item>\n                Reverse dependency: {reverseDep && <h4>\n                 <Link style={{ textDecoration: 'none' }}  to={`/view/${reverseDep}`}>{reverseDep}</Link></h4>}\n                </Item>\n                </Grid>\n                <Grid item xs={6} md={4}>\n                <Item>\n                Dependencies: {clickable && <h4> \n                {clickable.map((ck, index) => <li key={index}><Link style={{ textDecoration: 'none' }} to={`/view/${ck}`}>{ck}</Link></li>)}</h4>}\n                {nonClickable && <h4>{nonClickable.map((ck, index) => <li key={index}>{ck}</li>)}</h4>}\n                </Item>\n                </Grid>\n            </Grid>\n            </Box>\n\n    )\n}\n\nexport default Package","import React from 'react'\nimport {\n    Link,\n  } from \"react-router-dom\"\n\nimport {TableContainer, Table, TableBody, TableRow, TableCell, Paper} from '@material-ui/core';\n\nconst RenderView =({view, setView})=> {\n    \n    // useEffect(()=>{\n    //     const viewData = JSON.parse(window.localStorage.getItem('dataToView'))\n        \n    //     if (viewData) {\n    //         setView(viewData)\n    //     } \n    // },[setView])\n    \n\n    if (view == null) {\n        return(\n            <div>\n                no data\n            </div>\n        )\n    } else {\n    \n    return(\n        <div>\n\n        <h2>There are {view.package.length} packages in your file</h2>\n        <TableContainer component={Paper}>\n            <Table>\n                <TableBody>\n                    {view.package.map((pkg,index) => \n                        <TableRow key={index}>\n                            <TableCell>\n                            <Link style={{ textDecoration: 'none' }} to={`/view/${pkg.name}`}><h4>{pkg.name}</h4></Link>\n                            </TableCell>\n                        </TableRow>\n                    )}\n                </TableBody>\n            </Table>\n        </TableContainer>\n\n        </div>\n    )\n    }\n\n}\n\nexport default RenderView","import Upload from './components/Upload'\nimport Package from './components/Package'\nimport RenderView from './components/RenderView'\nimport axios from 'axios'\nimport React from 'react'\nimport {Button, Container} from '@material-ui/core';\nimport Alert from '@mui/material/Alert';\nimport { useState } from 'react'\nimport {\n    Routes,\n    Route,\n    Link,\n    useNavigate,\n    useMatch\n  } from \"react-router-dom\"\n\nconst Notification =({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className='notice'>\n      {(message &&\n        <Alert severity=\"warning\">\n          {message}\n        </Alert>\n      )}\n    </div>\n  )\n}\nconst App =()=> {\n  \n    const [selectedFile, setSelectedFile] = useState(null)\n    const [view, setView] = useState(JSON.parse(window.localStorage.getItem('dataToView')) || null)\n    const [noticeMessage, setNoticeMessage] = useState(null)\n    const [fileId, setFileId] =useState(null)\n    console.log('fileId', fileId);\n    \n    const navigate = useNavigate()\n\n    const onFileChange = (event) => { \n        event.preventDefault()\n      setSelectedFile(event.target.files[0]); \n    }; \n     \n    const onFileUpload = () => { \n      const formData = new FormData(); \n      formData.append( \n        \"file\", \n        selectedFile\n      ); \n      if (!selectedFile) {\n          setNoticeMessage(\"Please Select a Poetry.lock File\")\n          setTimeout(()=>{\n              setNoticeMessage(null)\n            }, 3000)\n          return\n      }\n      axios.post('http://127.0.0.1:5000/upload', formData).then(response => {\n        console.log('response.data', response.data);\n        axios.get(`http://127.0.0.1:5000/view/${response.data.id}`).then(\n          response => {\n              setView(response.data)\n              window.localStorage.setItem(\n                  'dataToView', JSON.stringify(response.data)\n                  )\n          })\n        setFileId(response.data.id)\n      })\n\n    navigate('/view')\n    }; \n    \n    const match = useMatch(\"/view/:name\")\n    // console.log('viewDt for matching',view)\n    // console.log('match', match)\n\n    const singlePackage = match\n        ? view.package.find(p => p.name === match.params.name)\n        : null\n\n      return ( \n        <Container>\n              <Notification message={noticeMessage}/>\n             \n              <Button  color=\"primary\" variant=\"outlined\" component={Link} to=\"/\">\n                Home\n              </Button>&nbsp;&nbsp;\n              <Button color=\"primary\" variant=\"outlined\"component={Link} to=\"/view\">\n                View\n              </Button>\n      \n              <Routes>\n                  <Route path=\"/view/:name\" element={<Package setView={setView} singlePackage={singlePackage}/>}/>\n                  <Route path=\"/\" element={<Upload \n                      setNoticeMessage={setNoticeMessage}\n                      selectedFile={selectedFile}\n                      onFileUpload={onFileUpload} \n                      onFileChange={onFileChange}/>}/>\n                  <Route path=\"/view\" element={<RenderView view={view} setView={setView}/>}/>\n              </Routes>\n        </Container>\n      ) \n  } \nexport default App; ","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport { BrowserRouter as Router } from 'react-router-dom' \n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <Router><App /></Router>\n  </React.StrictMode>\n)\n\n"],"sourceRoot":""}